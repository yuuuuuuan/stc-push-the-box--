C51 COMPILER V9.56.0.0   MAIN                                                              02/24/2023 09:12:04 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\Program Files\Keil_v5\C51\BIN\C51.EXE Code\main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PR
                    -INT(.\Listings\main.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include "STC15F.h"
   2          #include "intrins.h"
   3          #include "Delay.h"
   4          #include "KeyScan.h"
   5          #include "LCD12864.h"
   6          #include "GPIO.H"
   7          #include "Serial2.h"
   8          
   9          #define BLANK 0
  10          #define WALL 1
  11          #define PLAYER 2
  12          #define BOX 3
  13          #define DES 4
  14          #define PLAYER_DES 6
  15          #define BOX_DES 7
  16          
  17          #define LEVEL 1
  18          #define ROW 8
  19          #define COL 8
  20          #define MOVE_UP 7
  21          #define MOVE_DOWN 11
  22          #define MOVE_LEFT 8
  23          #define MOVE_RIGHT 9
  24          
  25          void welcome_frame(void);
  26          void game_frame(void);
  27          void game_draw(void);
  28          void game_move(void);
  29          void Displaycube (u8 r,u8 c,u8 code *DData);
  30          void     DisplayClear (void);
  31          u8 button = 0X55;
  32          u8  Tcount=0;
  33          u8  second=0;
  34          u8  minute=0;
  35          u8  second_10=0;
  36          u8  second_01=0;
  37          u8  minute_10=0;
  38          u8  minute_01=0;
  39          u8 PLAYER_ROW;
  40          u8 PLAYER_COL;
  41          u8 cookie[]={
  42            0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
  43          };
  44          u8 MAP[LEVEL][ROW][COL] = 
  45          {
  46            {
  47              {0,0,0,1,1,1,0,0},
  48              {0,0,0,1,4,1,0,0},
  49              {0,0,0,1,0,1,0,0},
  50              {1,1,1,1,3,1,1,1},
  51              {1,4,0,3,2,3,4,1},
  52              {1,1,1,1,3,1,1,1},
  53              {0,0,0,1,4,1,0,0},
  54              {0,0,0,1,1,1,0,0}
C51 COMPILER V9.56.0.0   MAIN                                                              02/24/2023 09:12:04 PAGE 2   

  55            }
  56          };
  57          
  58          code u8 Img_DB[64] = 
  59          {
  60            0xFF,0xC3,0xA5,0x99,0x99,0xA5,0xC3,0xFF
  61          };
  62          
  63          
  64          code u8 Img_DP[64] = 
  65          {
  66            0x18,0x3C,0x7E,0x5A,0x5A,0x5A,0x3C,0x24
  67          };
  68          
  69          code u8 Img_DES[64] = 
  70          {
  71            0x00,0x18,0x24,0x42,0x42,0x24,0x18,0x00
  72          };
  73          
  74          code u8 Img_BLANK[64] = 
  75          {
  76            0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
  77          };
  78          
  79          code u8 Img_BOX[64] = 
  80          {
  81            0xFF,0x81,0xFF,0x81,0x81,0xFF,0x81,0xFF
  82          };
  83          
  84          code u8 Img_PLAYER[64] = 
  85          {
  86            0x18,0x18,0x7E,0x5A,0x5A,0x18,0x24,0x24
  87          };
  88          
  89          code u8 Img_WALL[64] = 
  90          {
  91            0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff
  92          };
  93          
  94          
  95          
  96          u8 DES_CNT[LEVEL] = {4};
  97          u8 DESBOX = 0;
  98          u8 LEVEL_CNT = 0;
  99          
 100          u8  code open_line1[] = {" GAME"};
 101          u8  code open_line2[] = {" Push the Boxes"};
 102          u8  code open_line3[] = {" ENTER   QUIT "};
 103          u8  code open_line4[] = {" MadeByYuuuan"};
 104          
 105          u8  code game_line1[] = {"TIME"};
 106          u8  code game_line2[] = {""};
 107          u8  code game_line3[] = {"LEVEL"};
 108          u8  code game_line4[] = {""};
 109          
 110          code u8 frame_img_welcome[1024] = {
 111          
 112          0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
 113          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 114          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 115          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 116          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
C51 COMPILER V9.56.0.0   MAIN                                                              02/24/2023 09:12:04 PAGE 3   

 117          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 118          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 119          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 120          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 121          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 122          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 123          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 124          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 125          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 126          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 127          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 128          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 129          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 130          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 131          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 132          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 133          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 134          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 135          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 136          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 137          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 138          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 139          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 140          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 141          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 142          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 143          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 144          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 145          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 146          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 147          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 148          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 149          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 150          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 151          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 152          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 153          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 154          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 155          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 156          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 157          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 158          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 159          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 160          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 161          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 162          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 163          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 164          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 165          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 166          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 167          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 168          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 169          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 170          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 171          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 172          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 173          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 174          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 175          0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
 176          
 177              
 178          };
C51 COMPILER V9.56.0.0   MAIN                                                              02/24/2023 09:12:04 PAGE 4   

 179          
 180          
 181          code u8 frame_img_game[1024] = {
 182          
 183            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
 184            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 185            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 186            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 187            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 188            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 189            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 190            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 191            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 192            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 193            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 194            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 195            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 196            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 197            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 198            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 199            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 200            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 201            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 202            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 203            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 204            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 205            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 206            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 207            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 208            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 209            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 210            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 211            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 212            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 213            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 214            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 215            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 216            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 217            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 218            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 219            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 220            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 221            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 222            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 223            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 224            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 225            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 226            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 227            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 228            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 229            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 230            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 231            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 232            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 233            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 234            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 235            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 236            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 237            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 238            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 239            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 240            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
C51 COMPILER V9.56.0.0   MAIN                                                              02/24/2023 09:12:04 PAGE 5   

 241            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 242            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 243            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 244            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 245            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
 246            0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
 247          
 248              
 249          };
 250          
 251          
 252          
 253          
 254          
 255          void main(void)
 256          {
 257   1          
 258   1          GPIO();
 259   1          TMOD=0x00; //T0 T1方式0：16位自动重装定时器模式，使用12分频系统时钟   
 260   1          TH0=0x3C;  //@12MHZ 定时50ms，中断20次为1s
 261   1          TL0=0xB0;
 262   1          ET0=1;     //开启定时器T0中断
 263   1          TR0=1;     //启动定时器，开始计时
 264   1          DisableHC595();     //禁止掉学习板上的HC595显示，省电
 265   1          delay_ms(100); //启动等待，等LCD讲入工作状态
 266   1          LCDInit(); //LCM初始化
 267   1          delay_ms(5); //延时片刻(可不要)
 268   1          LCDClear();
 269   1          DisplayClear ();
 270   1          
 271   1          //开机显示动画
 272   1        
 273   1          welcome_frame();
 274   1          DisplayListChar(0,1,open_line1);
 275   1          DisplayListChar(0,2,open_line2);
 276   1          DisplayListChar(0,3,open_line3);
 277   1          DisplayListChar(0,4,open_line4);
 278   1          DisplayListChar(0,4,open_line4);
 279   1          delay_ms(5000);
 280   1          LCDClear();
 281   1          DisplayClear();
 282   1          game_frame();
 283   1          DisplayListChar(5,1,game_line1);
 284   1          DisplayListChar(5,3,game_line3);
 285   1          
 286   1          
 287   1          //进入游戏画面
 288   1          
 289   1          while(1)
 290   1          {
 291   2            DisplayListNum(5,2,minute);
 292   2            
 293   2            DisplayListNum(6,2,second);
 294   2            
 295   2            DisplayListNum(6,4,LEVEL_CNT);
 296   2            button=KeyScan();
 297   2            delay_ms(5);
 298   2            if(button==0x55)
 299   2            {
 300   3              button = 0X55;
 301   3              game_draw();
 302   3            }
C51 COMPILER V9.56.0.0   MAIN                                                              02/24/2023 09:12:04 PAGE 6   

 303   2            game_move();
 304   2      
 305   2          }
 306   1        
 307   1      }
 308          
 309          void game_frame(void)
 310          {
 311   1        DisplayImage (frame_img_game);
 312   1      }
 313          
 314          void welcome_frame(void)
 315          {
 316   1        DisplayImage (frame_img_welcome);
 317   1      }
 318          
 319          //显示8*8像素的方块
 320          
 321          void Displaycube (u8 r,u8 c,u8 code *DData)
 322          
 323          {
 324   1          u8 x,i;
 325   1          i=c%2;
 326   1          if(r<4)       
 327   1          {
 328   2              for(x=0;x<8;x++)
 329   2              {
 330   3                  WriteCommandLCD(0x36,1);
 331   3                  WriteCommandLCD((0x80+r*8+x),1);
 332   3                  WriteCommandLCD((0x80+c/2),1);    
 333   3                  WriteCommandLCD(0x30,1);        
 334   3                  if(i==0)
 335   3                  {
 336   4                    WriteDataLCD(DData[x]);
 337   4                    cookie[x]=DData[x];
 338   4                  }
 339   3                  else
 340   3                    
 341   3                  {
 342   4                    
 343   4                    WriteDataLCD(cookie[x]);
 344   4                    WriteDataLCD(DData[x]);
 345   4                  }
 346   3              }
 347   2          }
 348   1          if(r>=4)      
 349   1          {
 350   2              for(x=0;x<8;x++)
 351   2              {
 352   3                  WriteCommandLCD(0x36,1);
 353   3                  WriteCommandLCD((0x80+(r-4)*8+x),1);
 354   3                  WriteCommandLCD((0x88+c/2),1);    
 355   3                  WriteCommandLCD(0x30,1);        
 356   3                  if(i==0)
 357   3                  {
 358   4                    WriteDataLCD(DData[x]);
 359   4                    cookie[x]=DData[x];
 360   4                  }
 361   3                  else
 362   3                    
 363   3                  {
 364   4                    
C51 COMPILER V9.56.0.0   MAIN                                                              02/24/2023 09:12:04 PAGE 7   

 365   4                    WriteDataLCD(cookie[x]);
 366   4                    WriteDataLCD(DData[x]);
 367   4                  }
 368   3              }
 369   2          }
 370   1          WriteCommandLCD(0x34,1);
 371   1          WriteCommandLCD(0x30,1);
 372   1      }
 373          
 374          
 375          
 376          void game_draw(void)
 377          {
 378   1        u8 j=0,k=0;
 379   1        for(j=0;j<ROW;j++)
 380   1        { 
 381   2          for(k=0;k<COL;k++)
 382   2          {
 383   3            if(MAP[LEVEL_CNT][j][k]==PLAYER||MAP[LEVEL_CNT][j][k]==(PLAYER_DES))
 384   3            {
 385   4              PLAYER_ROW=j;
 386   4              PLAYER_COL=k;
 387   4            }
 388   3            
 389   3            if(MAP[LEVEL_CNT][j][k]==(BOX_DES))
 390   3            {
 391   4              DESBOX++;
 392   4              if(DES_CNT[LEVEL_CNT]==DESBOX)
 393   4              {
 394   5                DESBOX = 0;
 395   5                LEVEL_CNT++;
 396   5              }
 397   4            }
 398   3            switch(MAP[LEVEL_CNT][j][k])
 399   3            {
 400   4              case BLANK:
 401   4                Displaycube (j,k,Img_BLANK);
 402   4                break;
 403   4              case WALL:
 404   4                Displaycube (j,k,Img_WALL);
 405   4                break;
 406   4              case PLAYER:
 407   4                Displaycube (j,k,Img_PLAYER);
 408   4                break;
 409   4              case BOX:
 410   4                Displaycube (j,k,Img_BOX);
 411   4                break;
 412   4              case DES:
 413   4                Displaycube (j,k,Img_DES);
 414   4                break;
 415   4              case PLAYER_DES:
 416   4                Displaycube (j,k,Img_DP);
 417   4                break;
 418   4              case BOX_DES:
 419   4                Displaycube (j,k,Img_DB);
 420   4                break;
 421   4            }
 422   3      
 423   3          }
 424   2        }
 425   1      }
 426          
C51 COMPILER V9.56.0.0   MAIN                                                              02/24/2023 09:12:04 PAGE 8   

 427          //游戏移动
 428          
 429          void game_move(void)
 430          {
 431   1        
 432   1        switch(button)
 433   1        {
 434   2              case MOVE_UP:
 435   2                switch(MAP[LEVEL_CNT][PLAYER_ROW-1][PLAYER_COL])
 436   2                {
 437   3                  case BOX:
 438   3                    if(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]==PLAYER_DES)
 439   3                    {
 440   4                      if(MAP[LEVEL_CNT][PLAYER_ROW-2][PLAYER_COL]==BLANK)
 441   4                      {
 442   5                        MAP[LEVEL_CNT][PLAYER_ROW-2][PLAYER_COL]=BOX;
 443   5                        MAP[LEVEL_CNT][PLAYER_ROW-1][PLAYER_COL]=PLAYER;
 444   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=DES;
 445   5                      }
 446   4                      else if(MAP[LEVEL_CNT][PLAYER_ROW-2][PLAYER_COL]==DES)
 447   4                      {
 448   5                        MAP[LEVEL_CNT][PLAYER_ROW-2][PLAYER_COL]=BOX_DES;
 449   5                        MAP[LEVEL_CNT][PLAYER_ROW-1][PLAYER_COL]=PLAYER;
 450   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=DES;
 451   5                      }
 452   4                      else
 453   4                      {
 454   5                      
 455   5                      }
 456   4                    }
 457   3                    
 458   3                    else
 459   3                    {
 460   4                      if(MAP[LEVEL_CNT][PLAYER_ROW-2][PLAYER_COL]==BLANK)
 461   4                      {
 462   5                        MAP[LEVEL_CNT][PLAYER_ROW-2][PLAYER_COL]=BOX;
 463   5                        MAP[LEVEL_CNT][PLAYER_ROW-1][PLAYER_COL]=PLAYER;
 464   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=BLANK;
 465   5                      }
 466   4                      else if(MAP[LEVEL_CNT][PLAYER_ROW-2][PLAYER_COL]==DES)
 467   4                      {
 468   5                        MAP[LEVEL_CNT][PLAYER_ROW-2][PLAYER_COL]=BOX_DES;
 469   5                        MAP[LEVEL_CNT][PLAYER_ROW-1][PLAYER_COL]=PLAYER;
 470   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=BLANK;
 471   5                      }
 472   4                      else
 473   4                      {
 474   5                      
 475   5                      }
 476   4                    }
 477   3                  break;
 478   3                  
 479   3                  case WALL:
 480   3                    
 481   3                  break;
 482   3                  
 483   3                  case BLANK:
 484   3                    if(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]==PLAYER_DES)
 485   3                    {
 486   4                      MAP[LEVEL_CNT][PLAYER_ROW-1][PLAYER_COL]=PLAYER;
 487   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=DES;
 488   4                    }
C51 COMPILER V9.56.0.0   MAIN                                                              02/24/2023 09:12:04 PAGE 9   

 489   3                    else
 490   3                    {
 491   4                      MAP[LEVEL_CNT][PLAYER_ROW-1][PLAYER_COL]=PLAYER;
 492   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=BLANK;
 493   4                    }
 494   3                  
 495   3                  break;
 496   3                  
 497   3                  case DES:
 498   3                    if(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]==PLAYER_DES)
 499   3                    {
 500   4                      MAP[LEVEL_CNT][PLAYER_ROW-1][PLAYER_COL]=PLAYER_DES;
 501   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=DES;
 502   4                    }
 503   3                    else
 504   3                    {
 505   4                      MAP[LEVEL_CNT][PLAYER_ROW-1][PLAYER_COL]=PLAYER_DES;
 506   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=BLANK;
 507   4                    }
 508   3                  
 509   3                  break;
 510   3                }
 511   2                break;
 512   2              case MOVE_DOWN:
 513   2                switch(MAP[LEVEL_CNT][PLAYER_ROW+1][PLAYER_COL])
 514   2                {
 515   3                  case BOX:
 516   3                    if(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]==PLAYER_DES)
 517   3                    {
 518   4                      if(MAP[LEVEL_CNT][PLAYER_ROW+2][PLAYER_COL]==BLANK)
 519   4                      {
 520   5                        MAP[LEVEL_CNT][PLAYER_ROW+2][PLAYER_COL]=BOX;
 521   5                        MAP[LEVEL_CNT][PLAYER_ROW+1][PLAYER_COL]=PLAYER;
 522   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=DES;
 523   5                      }
 524   4                      else if(MAP[LEVEL_CNT][PLAYER_ROW+2][PLAYER_COL]==DES)
 525   4                      {
 526   5                        MAP[LEVEL_CNT][PLAYER_ROW+2][PLAYER_COL]=BOX_DES;
 527   5                        MAP[LEVEL_CNT][PLAYER_ROW+1][PLAYER_COL]=PLAYER;
 528   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=DES;
 529   5                      }
 530   4                      else
 531   4                      {
 532   5                      
 533   5                      }
 534   4                    }
 535   3                    
 536   3                    else
 537   3                    {
 538   4                      if(MAP[LEVEL_CNT][PLAYER_ROW+2][PLAYER_COL]==BLANK)
 539   4                      {
 540   5                        MAP[LEVEL_CNT][PLAYER_ROW+2][PLAYER_COL]=BOX;
 541   5                        MAP[LEVEL_CNT][PLAYER_ROW+1][PLAYER_COL]=PLAYER;
 542   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=BLANK;
 543   5                      }
 544   4                      else if(MAP[LEVEL_CNT][PLAYER_ROW+2][PLAYER_COL]==DES)
 545   4                      {
 546   5                        MAP[LEVEL_CNT][PLAYER_ROW+2][PLAYER_COL]=BOX_DES;
 547   5                        MAP[LEVEL_CNT][PLAYER_ROW+1][PLAYER_COL]=PLAYER;
 548   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=BLANK;
 549   5                      }
 550   4                      else
C51 COMPILER V9.56.0.0   MAIN                                                              02/24/2023 09:12:04 PAGE 10  

 551   4                      {
 552   5                      
 553   5                      }
 554   4                    }
 555   3                  break;
 556   3                  
 557   3                  case WALL:
 558   3                    
 559   3                  break;
 560   3                  
 561   3                  case BLANK:
 562   3                    if(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]==PLAYER_DES)
 563   3                    {
 564   4                      MAP[LEVEL_CNT][PLAYER_ROW+1][PLAYER_COL]=PLAYER;
 565   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=DES;
 566   4                    }
 567   3                    else
 568   3                    {
 569   4                      MAP[LEVEL_CNT][PLAYER_ROW+1][PLAYER_COL]=PLAYER;
 570   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=BLANK;
 571   4                    }
 572   3                  
 573   3                  break;
 574   3                  
 575   3                  case DES:
 576   3                    if(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]==PLAYER_DES)
 577   3                    {
 578   4                      MAP[LEVEL_CNT][PLAYER_ROW+1][PLAYER_COL]=PLAYER_DES;
 579   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=DES;
 580   4                    }
 581   3                    else
 582   3                    {
 583   4                      MAP[LEVEL_CNT][PLAYER_ROW+1][PLAYER_COL]=PLAYER_DES;
 584   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=BLANK;
 585   4                    }
 586   3                  
 587   3                  break;
 588   3                }
 589   2                break;
 590   2              case MOVE_LEFT:
 591   2                switch(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL-1])
 592   2                {
 593   3                  case BOX:
 594   3                    if(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]==PLAYER_DES)
 595   3                    {
 596   4                      if(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL-2]==BLANK)
 597   4                      {
 598   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL-2]=BOX;
 599   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL-1]=PLAYER;
 600   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=DES;
 601   5                      }
 602   4                      else if(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL-2]==DES)
 603   4                      {
 604   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL-2]=BOX_DES;
 605   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL-1]=PLAYER;
 606   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=DES;
 607   5                      }
 608   4                      else
 609   4                      {
 610   5                      
 611   5                      }
 612   4                    }
C51 COMPILER V9.56.0.0   MAIN                                                              02/24/2023 09:12:04 PAGE 11  

 613   3                    
 614   3                    else
 615   3                    {
 616   4                      if(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL-2]==BLANK)
 617   4                      {
 618   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL-2]=BOX;
 619   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL-1]=PLAYER;
 620   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=BLANK;
 621   5                      }
 622   4                      else if(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL-2]==DES)
 623   4                      {
 624   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL-2]=BOX_DES;
 625   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL-1]=PLAYER;
 626   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=BLANK;
 627   5                      }
 628   4                      else
 629   4                      {
 630   5                      
 631   5                      }
 632   4                    }
 633   3                  break;
 634   3                  
 635   3                  case WALL:
 636   3                    
 637   3                  break;
 638   3                  
 639   3                  case BLANK:
 640   3                    if(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]==PLAYER_DES)
 641   3                    {
 642   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL-1]=PLAYER;
 643   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=DES;
 644   4                    }
 645   3                    else
 646   3                    {
 647   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL-1]=PLAYER;
 648   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=BLANK;
 649   4                    }
 650   3                  
 651   3                  break;
 652   3                  
 653   3                  case DES:
 654   3                    if(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]==PLAYER_DES)
 655   3                    {
 656   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL-1]=PLAYER_DES;
 657   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=DES;
 658   4                    }
 659   3                    else
 660   3                    {
 661   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL-1]=PLAYER_DES;
 662   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=BLANK;
 663   4                    }
 664   3                  
 665   3                  break;
 666   3                }
 667   2                break;
 668   2              case MOVE_RIGHT:
 669   2                switch(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL+1])
 670   2                {
 671   3                  case BOX:
 672   3                    if(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]==PLAYER_DES)
 673   3                    {
 674   4                      if(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL+2]==BLANK)
C51 COMPILER V9.56.0.0   MAIN                                                              02/24/2023 09:12:04 PAGE 12  

 675   4                      {
 676   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL+2]=BOX;
 677   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL+1]=PLAYER;
 678   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=DES;
 679   5                      }
 680   4                      else if(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL+2]==DES)
 681   4                      {
 682   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL+2]=BOX_DES;
 683   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL+1]=PLAYER;
 684   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=DES;
 685   5                      }
 686   4                      else
 687   4                      {
 688   5                      
 689   5                      }
 690   4                    }
 691   3                    
 692   3                    else
 693   3                    {
 694   4                      if(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL+2]==BLANK)
 695   4                      {
 696   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL+2]=BOX;
 697   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL+1]=PLAYER;
 698   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=BLANK;
 699   5                      }
 700   4                      else if(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL+2]==DES)
 701   4                      {
 702   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL+2]=BOX_DES;
 703   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL+1]=PLAYER;
 704   5                        MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=BLANK;
 705   5                      }
 706   4                      else
 707   4                      {
 708   5                      
 709   5                      }
 710   4                    }
 711   3                  break;
 712   3                  
 713   3                  case WALL:
 714   3                    
 715   3                  break;
 716   3                  
 717   3                  case BLANK:
 718   3                    if(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]==PLAYER_DES)
 719   3                    {
 720   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL+1]=PLAYER;
 721   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=DES;
 722   4                    }
 723   3                    else
 724   3                    {
 725   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL+1]=PLAYER;
 726   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=BLANK;
 727   4                    }
 728   3                  
 729   3                  break;
 730   3                  
 731   3                  case DES:
 732   3                    if(MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]==PLAYER_DES)
 733   3                    {
 734   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL+1]=PLAYER_DES;
 735   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=DES;
 736   4                    }
C51 COMPILER V9.56.0.0   MAIN                                                              02/24/2023 09:12:04 PAGE 13  

 737   3                    else
 738   3                    {
 739   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL+1]=PLAYER_DES;
 740   4                      MAP[LEVEL_CNT][PLAYER_ROW][PLAYER_COL]=BLANK;
 741   4                    }
 742   3                  
 743   3                  break;
 744   3                }
 745   2                break;
 746   2              
 747   2        }
 748   1        
 749   1      }
 750          
 751          void timer0 (void) interrupt 1
 752          {
 753   1        Tcount++;  //50ms中断次数计数器加一 ，如果等于20,1s到，主程序中查询此变量计时，并清零。
 754   1        if(Tcount==19)
 755   1        {
 756   2          Tcount=0;
 757   2          second++;
 758   2          if(second==59)
 759   2          {
 760   3            second=0;
 761   3            minute++;
 762   3          }
 763   2        }
 764   1      }
 765          
 766              


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   2057    ----
   CONSTANT SIZE    =   2560    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     85       8
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
